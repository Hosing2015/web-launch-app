window["WLA"] =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/copy.ts":
/*!*********************!*\
  !*** ./src/copy.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction select(element) {\n  var selectedText;\n\n  if (element.nodeName === 'SELECT') {\n    element.focus();\n    selectedText = element.value;\n  } else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n    var isReadOnly = element.hasAttribute('readonly');\n\n    if (!isReadOnly) {\n      element.setAttribute('readonly', '');\n    }\n\n    element.select();\n    element.setSelectionRange(0, element.value.length);\n\n    if (!isReadOnly) {\n      element.removeAttribute('readonly');\n    }\n\n    selectedText = element.value;\n  } else {\n    if (element.hasAttribute('contenteditable')) {\n      element.focus();\n    }\n\n    var selection = window.getSelection();\n    var range = document.createRange();\n    range.selectNodeContents(element);\n    selection.removeAllRanges();\n    selection.addRange(range);\n    selectedText = selection.toString();\n  }\n\n  return selectedText;\n}\n\nfunction copy(text, options) {\n  var debug,\n      fakeElem,\n      success = false;\n  options = options || {};\n  debug = options.debug || false;\n\n  try {\n    var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n    fakeElem = document.createElement('textarea'); // Prevent zooming on iOS\n\n    fakeElem.style.fontSize = '12pt'; // Reset box model\n\n    fakeElem.style.border = '0';\n    fakeElem.style.padding = '0';\n    fakeElem.style.margin = '0'; // Move element out of screen horizontally\n\n    fakeElem.style.position = 'absolute';\n    fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n    var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n    fakeElem.style.top = yPosition + \"px\";\n    fakeElem.setAttribute('readonly', '');\n    fakeElem.value = text;\n    document.body.appendChild(fakeElem);\n    select(fakeElem);\n    var successful = document.execCommand('copy');\n\n    if (!successful) {\n      throw new Error('copy command was unsuccessful');\n    }\n\n    success = true;\n  } catch (err) {\n    debug && console.error('unable to copy using execCommand: ', err);\n    debug && console.warn('trying IE specific stuff');\n\n    try {\n      window.clipboardData.setData('text', text);\n      success = true;\n    } catch (err) {\n      debug && console.error('unable to copy using clipboardData: ', err);\n    }\n  } finally {\n    if (fakeElem) {\n      document.body.removeChild(fakeElem);\n    }\n  }\n\n  return success;\n}\n\nexports.copy = copy;\n\n//# sourceURL=webpack://WLA/./src/copy.ts?");

/***/ }),

/***/ "./src/detector.ts":
/*!*************************!*\
  !*** ./src/detector.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction typeOf(type) {\n  return function (object) {\n    return Object.prototype.toString.call(object) === \"[object \" + type + \"]\";\n  };\n}\n\nfunction each(object, factory) {\n  for (var i = 0, l = object.length; i < l; i++) {\n    if (factory.call(object, object[i], i) === false) {\n      break;\n    }\n  }\n}\n\nvar Detector =\n/** @class */\nfunction () {\n  function Detector(rules) {\n    this._rules = rules;\n  }\n\n  Detector.prototype._detect = function (name, expression, ua) {\n    var expr = typeOf(\"Function\")(expression) ? expression.call(null, ua) : expression;\n\n    if (!expr) {\n      return null;\n    }\n\n    var info = {\n      name: name,\n      version: \"0\",\n      codename: \"\"\n    };\n\n    if (expr === true) {\n      return info;\n    } else if (typeOf(\"String\")(expr)) {\n      if (ua.indexOf(expr) !== -1) {\n        return info;\n      }\n    } else if (typeOf(\"Object\")(expr)) {\n      if (expr.hasOwnProperty(\"version\")) {\n        info.version = expr.version;\n      }\n\n      return info;\n    } else if (typeOf(\"RegExp\")(expr)) {\n      var m = expr.exec(ua);\n\n      if (m) {\n        if (m.length >= 2 && m[1]) {\n          info.version = m[1].replace(/_/g, \".\");\n        }\n\n        return info;\n      }\n    }\n  };\n\n  Detector.prototype._parseItem = function (ua, patterns, factory, detector) {\n    var self = this;\n    var detected = {\n      name: \"na\",\n      version: \"0\"\n    };\n    ;\n    each(patterns, function (pattern) {\n      var d = self._detect(pattern[0], pattern[1], ua);\n\n      if (d) {\n        detected = d;\n        return false;\n      }\n    });\n    factory.call(detector, detected.name, detected.version);\n  };\n  /**\n   * parse ua\n   * @param ua\n   */\n\n\n  Detector.prototype.parse = function (ua) {\n    ua = (ua || \"\").toLowerCase();\n    var d = {};\n\n    this._parseItem(ua, this._rules.os, function (name, version) {\n      var v = parseFloat(version);\n      d.os = {\n        name: name,\n        version: v,\n        fullVersion: version\n      };\n      d.os[name] = v;\n    }, d);\n\n    this._parseItem(ua, this._rules.browser, function (name, version) {\n      var mode = version;\n      var v = parseFloat(version);\n      d.browser = {\n        name: name,\n        version: v,\n        fullVersion: version,\n        mode: parseFloat(mode),\n        fullMode: mode\n      };\n      d.browser[name] = v;\n    }, d);\n\n    return d;\n  };\n\n  return Detector;\n}();\n\nexports.Detector = Detector;\nvar OS = [[\"ios\", function (ua) {\n  if (/\\bcpu(?: iphone)? os /.test(ua)) {\n    return /\\bcpu(?: iphone)? os ([0-9._]+)/;\n  } else if (ua.indexOf(\"iph os \") !== -1) {\n    return /\\biph os ([0-9_]+)/;\n  } else {\n    return /\\bios\\b/;\n  }\n}], [\"android\", function (ua) {\n  if (ua.indexOf(\"android\") >= 0) {\n    return /\\bandroid[ \\/-]?([0-9.x]+)?/;\n  } else if (ua.indexOf(\"adr\") >= 0) {\n    if (ua.indexOf(\"mqqbrowser\") >= 0) {\n      return /\\badr[ ]\\(linux; u; ([0-9.]+)?/;\n    } else {\n      return /\\badr(?:[ ]([0-9.]+))?/;\n    }\n  }\n\n  return \"android\"; //return /\\b(?:android|\\badr)(?:[\\/\\- ](?:\\(linux; u; )?)?([0-9.x]+)?/;\n}], [\"wp\", function (ua) {\n  if (ua.indexOf(\"windows phone \") !== -1) {\n    return /\\bwindows phone (?:os )?([0-9.]+)/;\n  } else if (ua.indexOf(\"xblwp\") !== -1) {\n    return /\\bxblwp([0-9.]+)/;\n  } else if (ua.indexOf(\"zunewp\") !== -1) {\n    return /\\bzunewp([0-9.]+)/;\n  }\n\n  return \"windows phone\";\n}], [\"symbian\", /\\bsymbian(?:os)?\\/([0-9.]+)/], [\"chromeos\", /\\bcros i686 ([0-9.]+)/], [\"linux\", \"linux\"], [\"windowsce\", /\\bwindows ce(?: ([0-9.]+))?/]];\nvar BROWSER = [// app\n[\"micromessenger\", /\\bmicromessenger\\/([\\d.]+)/], [\"qq\", /\\bqq/i], [\"qzone\", /qzone\\/.*_qz_([\\d.]+)/i], [\"qqbrowser\", /\\bm?qqbrowser\\/([0-9.]+)/], [\"tt\", /\\btencenttraveler ([0-9.]+)/], [\"weibo\", /weibo__([0-9.]+)/], [\"uc\", function (ua) {\n  if (ua.indexOf(\"ucbrowser/\") >= 0) {\n    return /\\bucbrowser\\/([0-9.]+)/;\n  } else if (ua.indexOf(\"ubrowser/\") >= 0) {\n    return /\\bubrowser\\/([0-9.]+)/;\n  } else if (/\\buc\\/[0-9]/.test(ua)) {\n    return /\\buc\\/([0-9.]+)/;\n  } else if (ua.indexOf(\"ucweb\") >= 0) {\n    // `ucweb/2.0` is compony info.\n    // `UCWEB8.7.2.214/145/800` is browser info.\n    return /\\bucweb([0-9.]+)?/;\n  } else {\n    return /\\b(?:ucbrowser|uc)\\b/;\n  }\n}], [\"360\", function (ua) {\n  if (ua.indexOf(\"360 aphone browser\") !== -1) {\n    return /\\b360 aphone browser \\(([^\\)]+)\\)/;\n  }\n\n  return /\\b360(?:se|ee|chrome|browser)\\b/;\n}], [\"baidu\", function (ua) {\n  var back = 0;\n  var a;\n\n  if (/ baiduboxapp\\//i.test(ua)) {\n    if (a = /([\\d+.]+)_(?:diordna|enohpi)_/.exec(ua)) {\n      a = a[1].split(\".\");\n      back = a.reverse().join(\".\");\n    } else if (a = /baiduboxapp\\/([\\d+.]+)/.exec(ua)) {\n      back = a[1];\n    }\n\n    return {\n      version: back\n    };\n  }\n\n  return false;\n}], [\"baidubrowser\", /\\b(?:ba?idubrowser|baiduhd)[ \\/]([0-9.x]+)/], [\"bdminivideo\", /bdminivideo\\/([0-9.]+)/], [\"sogou\", function (ua) {\n  if (ua.indexOf(\"sogoumobilebrowser\") >= 0) {\n    return /sogoumobilebrowser\\/([0-9.]+)/;\n  } else if (ua.indexOf(\"sogoumse\") >= 0) {\n    return true;\n  }\n\n  return / se ([0-9.x]+)/;\n}], [\"ali-ap\", function (ua) {\n  if (ua.indexOf(\"aliapp\") > 0) {\n    return /\\baliapp\\(ap\\/([0-9.]+)\\)/;\n  } else {\n    return /\\balipayclient\\/([0-9.]+)\\b/;\n  }\n}], [\"ali-tb\", /\\baliapp\\(tb\\/([0-9.]+)\\)/], [\"ali-tm\", /\\baliapp\\(tm\\/([0-9.]+)\\)/], [\"tao\", /\\btaobrowser\\/([0-9.]+)/], // 厂商\n[\"mi\", /\\bmiuibrowser\\/([0-9.]+)/], [\"oppo\", /\\boppobrowser\\/([0-9.]+)/], [\"vivo\", /\\bvivobrowser\\/([0-9.]+)/], [\"meizu\", /\\bmzbrowser\\/([0-9.]+)/], [\"nokia\", /\\bnokiabrowser\\/([0-9.]+)/], // [\"huawei\", /\\bhuaweibrowser\\/([0-9.]+)/],\n[\"samsung\", /\\bsamsungbrowser\\/([0-9.]+)/], // browser\n[\"maxthon\", /\\b(?:maxthon|mxbrowser)(?:[ \\/]([0-9.]+))?/], // Opera 15 之后开始使用 Chromniun 内核，需要放在 Chrome 的规则之前。\n[\"opera\", function (ua) {\n  var re_opera_old = /\\bopera.+version\\/([0-9.ab]+)/;\n  var re_opera_new = /\\bopr\\/([0-9.]+)/;\n  return re_opera_old.test(ua) ? re_opera_old : re_opera_new;\n}], [\"edge\", /edge\\/([0-9.]+)/], [\"firefox\", /\\bfirefox\\/([0-9.ab]+)/], [\"chrome\", / (?:chrome|crios|crmo)\\/([0-9.]+)/], // Android 默认浏览器。该规则需要在 safari 之前。\n[\"android\", function (ua) {\n  if (ua.indexOf(\"android\") === -1) {\n    return;\n  }\n\n  return /\\bversion\\/([0-9.]+(?: beta)?)/;\n}], [\"safari\", /\\bversion\\/([0-9.]+(?: beta)?)(?: mobile(?:\\/[a-z0-9]+)?)? safari\\//], // 如果不能识别为浏览器则为webview。\n[\"webview\", /\\bcpu(?: iphone)? os (?:[0-9._]+).+\\bapplewebkit\\b/]];\nvar detector = new Detector({\n  os: OS,\n  browser: BROWSER\n});\nvar ua = navigator.userAgent + \" \" + navigator.appVersion + \" \" + navigator.vendor;\nexports.ua = ua;\nvar d = detector.parse(ua);\nexports.detector = d;\n\n//# sourceURL=webpack://WLA/./src/detector.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar copy_1 = __webpack_require__(/*! ./copy */ \"./src/copy.ts\");\n\nexports.copy = copy_1.copy;\n\nvar detector_1 = __webpack_require__(/*! ./detector */ \"./src/detector.ts\");\n\nexports.ua = detector_1.ua;\nexports.detector = detector_1.detector;\nexports.isIos = detector_1.detector.os.name === 'ios';\nexports.isAndroid = detector_1.detector.os.name === 'android';\nexports.enableULink = exports.isIos && detector_1.detector.os.version >= 9;\nexports.enableApplink = exports.isAndroid && detector_1.detector.os.version >= 6;\nexports.inWeixin = detector_1.detector.browser.name === 'micromessenger';\nexports.inQQ = detector_1.detector.browser.name === 'qq';\nexports.inWeibo = detector_1.detector.browser.name === 'weibo';\nexports.inBaidu = detector_1.detector.browser.name === 'baidu';\n/**\n * 宿主环境是否支持link\n */\n\nfunction supportLink() {\n  var supportLink = false;\n\n  if (exports.enableApplink) {\n    switch (detector_1.detector.browser.name) {\n      case 'chrome':\n      case 'samsung':\n      case 'zhousi':\n        supportLink = true;\n        break;\n\n      default:\n        supportLink = false;\n        break;\n    }\n  }\n\n  if (exports.enableULink) {\n    switch (detector_1.detector.browser.name) {\n      case 'uc':\n      case 'qq':\n        supportLink = false;\n        break;\n\n      default:\n        supportLink = true;\n        break;\n    }\n  }\n\n  return supportLink;\n}\n\nexports.supportLink = supportLink;\n/**\n * iframe call\n * @param url\n */\n\nfunction iframeCall(url) {\n  var iframe = document.createElement('iframe');\n  iframe.setAttribute('src', url);\n  iframe.setAttribute('style', 'display:none');\n  document.body.appendChild(iframe);\n  setTimeout(function () {\n    document.body.removeChild(iframe);\n  }, 200);\n}\n\nexports.iframeCall = iframeCall;\n/**\n * location call\n * @param url\n */\n\nfunction locationCall(url) {\n  location.href = url;\n}\n\nexports.locationCall = locationCall;\n/**\n * merge object\n */\n\nfunction deepMerge(firstObj, secondObj) {\n  for (var key in secondObj) {\n    firstObj[key] = firstObj[key] && firstObj[key].toString() === \"[object Object]\" ? deepMerge(firstObj[key], secondObj[key]) : firstObj[key] = secondObj[key];\n  }\n\n  return firstObj;\n}\n\nvar LaunchApp =\n/** @class */\nfunction () {\n  function LaunchApp(opt) {\n    this.callbackId = 0;\n    var tmpConfig = deepMerge({}, LaunchApp.defaultConfig);\n    this.configs = deepMerge(tmpConfig, opt);\n    this.openMethod = this._getOpenMethod();\n  }\n  /**\n   * select open method according to the environment and config\n   */\n\n\n  LaunchApp.prototype._getOpenMethod = function () {\n    var _a = LaunchApp.openChannel,\n        guide = _a.guide,\n        link = _a.link,\n        scheme = _a.scheme,\n        unknown = _a.unknown;\n    var _b = this.configs,\n        useGuideMethod = _b.useGuideMethod,\n        useUniversalLink = _b.useUniversalLink,\n        useAppLink = _b.useAppLink,\n        autodemotion = _b.autodemotion;\n\n    if (useGuideMethod) {\n      return guide;\n    }\n\n    if (useUniversalLink || useAppLink) {\n      if (autodemotion && (exports.isIos && !exports.enableULink || exports.isAndroid && !exports.enableApplink)) {\n        return scheme;\n      }\n\n      return link;\n    }\n\n    if (exports.isIos || exports.isAndroid) {\n      return scheme;\n    }\n\n    return unknown;\n  };\n  /**\n   * launch app\n   * @param {*} opt\n   * page:'index',\n   * param:{},\n   * paramMap:{}\n   * scheme:'', for scheme\n   * url:'', for link\n   * launchType:{\n   *     ios:link/scheme/store\n   *     android:link/scheme/store\n   * }\n   * autodemotion\n   * guideMethod\n   * useYingyongbao\n   * updateTipMethod\n   * clipboardTxt\n   * pkgs:{android:'',ios:'',yyb:'',store:{...}}\n   * timeout 是否走超时逻辑,<0表示不走\n   * landPage\n   * callback 端回调方法\n   * @param {*} callback number(1 nothing,2 landpage,3 store,default download)\n   */\n\n\n  LaunchApp.prototype.open = function (opt, callback) {\n    try {\n      this.options = opt;\n      this.callback = callback;\n      this.timeoutDownload = opt.timeout >= 0 || this.configs.timeout >= 0 && opt.timeout == undefined;\n      var _a = LaunchApp.openChannel,\n          scheme = _a.scheme,\n          link = _a.link,\n          guide = _a.guide,\n          store = _a.store,\n          unknown = _a.unknown;\n      var tmpOpenMethod = null,\n          needPro = true; // 指定调起方案\n\n      if (opt.useGuideMethod || this.options.useGuideMethod == undefined && this.configs.useGuideMethod) {\n        tmpOpenMethod = guide;\n        needPro = false;\n      } else if (opt.launchType) {\n        var type = opt.launchType[detector_1.detector.os.name];\n\n        switch (type) {\n          case 'link':\n            tmpOpenMethod = link;\n\n            if (opt.autodemotion && (exports.isIos && !exports.enableULink || exports.isAndroid && !exports.enableApplink)) {\n              tmpOpenMethod = scheme;\n            }\n\n            break;\n\n          case 'scheme':\n            tmpOpenMethod = scheme;\n            break;\n\n          case 'store':\n            tmpOpenMethod = store;\n            needPro = false;\n            break;\n\n          default:\n            tmpOpenMethod = unknown;\n            needPro = false;\n            break;\n        }\n      }\n\n      tmpOpenMethod = tmpOpenMethod || this.openMethod;\n\n      if (typeof opt.callback === 'function') {\n        opt.param = opt.param || {};\n        var funcName = '_wla_func_' + ++this.callbackId;\n\n        window[funcName] = function () {\n          opt.callback.apply(window, [].slice.call(arguments, 0));\n        };\n\n        opt.param['callback'] = funcName;\n      } else {\n        if (opt.callback) {\n          opt.param['callback'] = callback;\n        }\n      }\n\n      opt.clipboardTxt && copy_1.copy(opt.clipboardTxt);\n\n      if (needPro) {\n        this.openUrl = tmpOpenMethod.preOpen && tmpOpenMethod.preOpen.call(this, opt || {});\n        tmpOpenMethod.open.call(this, this.openUrl);\n      } else {\n        tmpOpenMethod.open.call(this);\n      }\n    } catch (e) {\n      console.log('launch error:', e);\n      locationCall(this.options.landPage || this.configs.landPage);\n    }\n  };\n  /**\n   * download package\n   * opt: {android:'',ios:''，yyk:'',landPage}\n   */\n\n\n  LaunchApp.prototype.download = function (opt) {\n    var pkgs = deepMerge(this.configs.pkgs, opt);\n\n    if (exports.inWeixin) {\n      locationCall(pkgs.yyb);\n    } else if (exports.isAndroid) {\n      locationCall(pkgs.android);\n    } else if (exports.isIos) {\n      locationCall(pkgs.ios);\n    } else {\n      locationCall(opt.landPage || this.configs.landPage);\n    }\n  };\n  /**\n   * 检验版本\n   * @param pageConf {version:''}\n   */\n\n\n  LaunchApp.prototype._checkVersion = function (pageConf) {\n    var nums1 = pageConf.version.trim().split('.');\n    var nums2 = this.configs.appVersion.trim().split('.');\n    var len = Math.max(nums1.length, nums2.length);\n    var result = false;\n\n    for (var i = 0; i < len; i++) {\n      var n1 = parseInt(nums1[i] || 0);\n      var n2 = parseInt(nums2[i] || 0);\n\n      if (n1 > n2) {\n        result = false;\n        break;\n      } else if (n1 < n2) {\n        result = true;\n        break;\n      } else {\n        continue;\n      }\n    }\n\n    if (!result) {\n      var func = this.options.updateTipMethod || this.configs.updateTipMethod;\n      func && func();\n    }\n\n    return result;\n  };\n  /**\n   * map param (for different platform)\n   * @param {*} param\n   * @param {*} paramMap\n   */\n\n\n  LaunchApp.prototype._paramMapProcess = function (param, paramMap) {\n    if (!paramMap) {\n      return param;\n    }\n\n    var newParam = {};\n\n    for (var k in param) {\n      if (paramMap[k]) {\n        newParam[paramMap[k]] = param[k];\n      } else {\n        newParam[k] = param[k];\n      }\n    }\n\n    return newParam;\n  };\n  /**\n   * generating URL parameters\n   * @param {*} obj\n   */\n\n\n  LaunchApp.prototype._stringtifyParams = function (obj) {\n    if (!obj) {\n      return '';\n    }\n\n    var str = '';\n\n    for (var k in obj) {\n      if (!obj.hasOwnProperty(k)) {\n        continue;\n      }\n\n      if (_typeof(obj[k]) == 'object') {\n        str += k + '=' + encodeURIComponent(JSON.stringify(obj[k])) + '&';\n      } else {\n        str += k + '=' + encodeURIComponent(obj[k]) + '&';\n      }\n    }\n\n    ;\n    return str ? str.substr(0, str.length - 1) : str;\n  };\n  /**\n   * generating URL\n   * @param {*} conf\n   * @param type 'scheme link yyb'\n   */\n\n\n  LaunchApp.prototype._getUrlFromConf = function (conf, type) {\n    var paramStr = conf.param && this._stringtifyParams(conf.param);\n\n    var strUrl = '';\n\n    switch (type) {\n      case 'link':\n        // 对url进行参数处理 'tieba.baidu.com/p/{pid}'\n        var url_1 = conf.url;\n        var placeholders = url_1.match(/\\{.*?\\}/g);\n        placeholders && placeholders.forEach(function (ph, i) {\n          var key = ph.substring(1, ph.length - 1);\n          url_1 = url_1.replace(ph, conf.param[key]);\n          delete conf.param[key];\n        });\n        strUrl = url_1 + (paramStr ? (url_1.indexOf('?') > 0 ? '&' : '?') + paramStr : '');\n        break;\n\n      case 'scheme':\n        if (this.options.scheme) {\n          strUrl = this.options.scheme + (paramStr ? (this.options.scheme.indexOf('?') > 0 ? '&' : this.configs.searchPrefix(detector_1.detector)) + paramStr : '');\n        } else {\n          var protocol = conf.protocol || (exports.isIos ? this.configs.deeplink.scheme.ios.protocol : this.configs.deeplink.scheme.android.protocol);\n          strUrl = protocol + '://' + conf.path + (paramStr ? this.configs.searchPrefix(detector_1.detector) + paramStr : '');\n        }\n\n        break;\n\n      case 'store':\n        strUrl = conf.scheme.replace('{id}', conf.pkgName || this.configs.pkgName);\n        break;\n    }\n\n    return strUrl;\n  };\n\n  LaunchApp.prototype._callend = function (status) {\n    clearTimeout(this.timer);\n    var backResult = this.callback && this.callback(status, detector_1.detector, this.openUrl); // 调起失败处理\n\n    if (status != LaunchApp.openStatus.SUCCESS) {\n      switch (backResult) {\n        case 1:\n          // do nothing\n          break;\n\n        case 2:\n          locationCall(this.options.landPage || this.configs.landPage);\n          break;\n\n        case 3:\n          // 指定参数后续无超时逻辑\n          LaunchApp.openChannel.store.open.call(this, true);\n          break;\n\n        default:\n          this.download(this.options.pkgs);\n          break;\n      }\n    }\n  };\n  /**\n   * determine whether or not open successfully\n   */\n\n\n  LaunchApp.prototype._setTimeEvent = function () {\n    var self = this;\n    var haveChange = false;\n    var property = 'hidden',\n        eventName = 'visibilitychange';\n\n    if (typeof document.hidden !== 'undefined') {\n      // Opera 12.10 and Firefox 18 and later support\n      property = 'hidden';\n      eventName = 'visibilitychange';\n    } else if (typeof document.msHidden !== 'undefined') {\n      property = 'msHidden';\n      eventName = 'msvisibilitychange';\n    } else if (typeof document.webkitHidden !== 'undefined') {\n      property = 'webkitHidden';\n      eventName = 'webkitvisibilitychange';\n    }\n\n    var pageChange = function pageChange(e) {\n      haveChange = true;\n\n      if (document[property] || e.hidden || document.visibilityState == 'hidden') {\n        self._callend(LaunchApp.openStatus.SUCCESS);\n      } else {\n        self._callend(LaunchApp.openStatus.UNKNOW);\n      } // document.removeEventListener('pagehide', pageChange);\n\n\n      document.removeEventListener(eventName, pageChange);\n      document.removeEventListener('baiduboxappvisibilitychange', pageChange);\n    }; // window.addEventListener('pagehide', pageChange, false);\n\n\n    document.addEventListener(eventName, pageChange, false);\n    document.addEventListener('baiduboxappvisibilitychange', pageChange, false);\n    this.timer = setTimeout(function () {\n      if (haveChange) {\n        return;\n      } // document.removeEventListener('pagehide', pageChange);\n\n\n      document.removeEventListener(eventName, pageChange);\n      document.removeEventListener('baiduboxappvisibilitychange', pageChange); // document.removeEventListener\n\n      if (!document.hidden && !haveChange) {\n        self._callend(LaunchApp.openStatus.FAILED);\n      } else {\n        self._callend(LaunchApp.openStatus.UNKNOW);\n      }\n\n      haveChange = true;\n    }, this.options.timeout || this.configs.timeout);\n  };\n\n  LaunchApp.defaultConfig = {\n    inApp: false,\n    appVersion: '',\n    // 应用商店包名\n    pkgName: '',\n    deeplink: {\n      scheme: {\n        android: {\n          protocol: 'protocol',\n          index: {\n            path: 'path',\n            param: {},\n            paramMap: {},\n            version: ''\n          }\n        },\n        ios: {\n          protocol: 'protocol',\n          index: {\n            path: 'path',\n            param: {},\n            paramMap: {},\n            version: ''\n          }\n        }\n      },\n      link: {\n        index: {\n          url: '',\n          param: {},\n          paramMap: {},\n          version: 0\n        }\n      }\n    },\n    pkgs: {\n      yyb: 'http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.haokan&ckey=',\n      ios: 'https://itunes.apple.com/cn/app/id1092031003?mt=8',\n      android: '',\n      store: {\n        samsung: {\n          reg: /\\(.*Android.*(SAMSUNG|SM-|GT-).*\\)/,\n          scheme: 'samsungapps://ProductDetail/{id}'\n        },\n        android: {\n          reg: /\\(.*Android.*\\)/,\n          scheme: 'market://details?id={id}'\n        }\n      }\n    },\n    useUniversalLink: supportLink(),\n    useAppLink: supportLink(),\n    // 不支持link方案时自动降级为scheme方案\n    autodemotion: false,\n    useYingyongbao: false,\n    // 受限引导\n    useGuideMethod: exports.isAndroid && (exports.inWeixin || exports.inWeibo),\n    guideMethod: function guideMethod() {\n      var div = document.createElement('div');\n      div.className = 'wx-guide-div';\n      div.innerText = '点击右上角->选择\"在浏览器中打开\"';\n      div.style.position = 'fixed';\n      div.style.top = '0';\n      div.style.left = '0';\n      div.style.zIndex = '1111';\n      div.style.width = '100vw';\n      div.style.height = '100vh';\n      div.style.textAlign = 'center';\n      div.style.lineHeight = '200px';\n      div.style.color = '#fff';\n      div.style.fontSize = '20px';\n      div.style.backgroundColor = '#000';\n      div.style.opacity = '0.7';\n      document.body.appendChild(div);\n\n      div.onclick = function () {\n        div.remove();\n      };\n    },\n    // 升级提示\n    updateTipMethod: function updateTipMethod() {\n      alert('升级App后才能使用此功能！');\n    },\n    // 参数前缀\n    searchPrefix: function searchPrefix(detector) {\n      return '?';\n    },\n    // 超时下载, <0表示不使用超时下载\n    timeout: 2000,\n    // 兜底页面\n    landPage: 'https://github.com/jawidx/web-launch-app'\n  };\n  LaunchApp.openChannel = {\n    scheme: {\n      preOpen: function preOpen(opt) {\n        var pageMap = {};\n\n        if (exports.isAndroid) {\n          pageMap = this.configs.deeplink.scheme.android;\n        } else if (exports.isIos) {\n          pageMap = this.configs.deeplink.scheme.ios;\n        }\n\n        var pageConf = pageMap[opt.page] || pageMap['index'];\n        pageConf = deepMerge(pageConf, opt); // 版本检测\n\n        if (this.configs.inApp && pageConf.version && !this._checkVersion(pageConf)) {\n          return '';\n        }\n\n        if (pageConf.paramMap) {\n          pageConf.param = this._paramMapProcess(pageConf.param, pageConf.paramMap);\n        }\n\n        return this._getUrlFromConf(pageConf, 'scheme');\n      },\n      open: function open(url) {\n        if (!url) {\n          return;\n        }\n\n        if (this.timeoutDownload) {\n          this._setTimeEvent();\n        }\n\n        if (detector_1.detector.browser.name == 'safari' && detector_1.detector.os.version >= 9 && exports.isIos) {\n          locationCall(url);\n        } else if (exports.isAndroid && detector_1.detector.browser.name == 'chrome' && detector_1.detector.browser.version > 55) {\n          locationCall(url);\n        } else {\n          iframeCall(url);\n        }\n      }\n    },\n    link: {\n      preOpen: function preOpen(opt) {\n        var pageMap = this.configs.deeplink.link;\n        var pageConf = pageMap[opt.page] || pageMap['index'];\n        pageConf = deepMerge(pageConf, opt);\n\n        if (pageConf.paramMap) {\n          pageConf.param = this._paramMapProcess(pageConf.param, pageConf.paramMap);\n        }\n\n        return this._getUrlFromConf(pageConf, 'link');\n      },\n      open: function open(url) {\n        locationCall(url);\n      }\n    },\n    guide: {\n      open: function open() {\n        var func = this.options.guideMethod || this.configs.guideMethod;\n        func && func(detector_1.detector);\n      }\n    },\n    store: {\n      open: function open(noTimeout) {\n        // 超时处理\n        if (!exports.inWeixin && !noTimeout && this.timeoutDownload) {\n          this._setTimeEvent();\n        }\n\n        var pkgs = deepMerge(this.configs.pkgs, this.options.pkgs);\n\n        if (exports.inWeixin && (this.options.useYingyongbao || this.options.useYingyongbao == undefined && this.configs.useYingyongbao)) {\n          locationCall(pkgs.yyb);\n        } else if (exports.isIos) {\n          locationCall(pkgs.ios);\n        } else if (exports.isAndroid) {\n          var store = this.configs.pkgs.store,\n              brand = void 0,\n              url = void 0;\n\n          for (var key in store) {\n            brand = store[key];\n\n            if (brand && brand.reg.test(detector_1.ua)) {\n              url = this._getUrlFromConf(brand, 'store');\n              iframeCall(url);\n              break;\n            }\n          }\n\n          if (noTimeout && !url) {\n            locationCall(this.options.landPage || this.configs.landPage);\n          }\n        } // 未匹配到商店会走超时逻辑走兜底\n\n      }\n    },\n    unknown: {\n      open: function open() {\n        locationCall(this.options.landPage || this.configs.landPage);\n      }\n    }\n  };\n  LaunchApp.openStatus = {\n    FAILED: 0,\n    SUCCESS: 1,\n    UNKNOW: 2\n  };\n  return LaunchApp;\n}();\n\nexports.LaunchApp = LaunchApp;\n\n//# sourceURL=webpack://WLA/./src/index.ts?");

/***/ }),

/***/ 1:
/*!****************************!*\
  !*** multi ./src/index.ts ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./src/index.ts */\"./src/index.ts\");\n\n\n//# sourceURL=webpack://WLA/multi_./src/index.ts?");

/***/ })

/******/ });