window.WLA=function(e){var o={};function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)n.d(t,i,function(o){return e[o]}.bind(null,i));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=8)}([function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=n(1);o.isIos="ios"===t.detector.os.name,o.isAndroid="android"===t.detector.os.name,o.inWeixin="micromessenger"===t.detector.browser.name,o.inQQ="qq"===t.detector.browser.name,o.inWeibo="weibo"===t.detector.browser.name,o.inBaidu="baidu"===t.detector.browser.name,o.enableULink=o.isIos&&t.detector.os.version>=9,o.enableApplink=o.isAndroid&&t.detector.os.version>=6,o.isIOSWithLocationCallSupport=o.isIos&&"safari"==t.detector.browser.name&&t.detector.os.version>=9;var i="chrome"==t.detector.browser.name&&t.detector.browser.version>55,r="samsung"==t.detector.browser.name;o.isAndroidWithLocationCallSupport=o.isAndroid&&(i||r),o.supportLink=function(){var e=!1;if(o.enableApplink)switch(t.detector.browser.name){case"chrome":case"samsung":case"zhousi":e=!0;break;default:e=!1}if(o.enableULink)switch(t.detector.browser.name){case"uc":case"qq":e=!1;break;default:e=!0}return e},o.locationCall=function(e){(top.location||location).href=e},o.iframeCall=function(e){var o=document.createElement("iframe");o.setAttribute("src",e),o.setAttribute("style","display:none"),document.body.appendChild(o),setTimeout((function(){document.body.removeChild(o)}),200)},o.deepMerge=function(e,n){for(var t in n)e[t]=e[t]&&"[object Object]"===e[t].toString()?o.deepMerge(e[t],n[t]):e[t]=n[t];return e}},function(e,o,n){"use strict";function t(e){return function(o){return Object.prototype.toString.call(o)==="[object "+e+"]"}}Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function e(e){this._rules=e}return e.prototype._detect=function(e,o,n){var i=t("Function")(o)?o.call(null,n):o;if(!i)return null;var r={name:e,version:"0",codename:""};if(!0===i)return r;if(t("String")(i)){if(-1!==n.indexOf(i))return r}else{if(t("Object")(i))return i.hasOwnProperty("version")&&(r.version=i.version),r;if(t("RegExp")(i)){var a=i.exec(n);if(a)return a.length>=2&&a[1]&&(r.version=a[1].replace(/_/g,".")),r}}},e.prototype._parseItem=function(e,o,n,t){var i=this,r={name:"na",version:"0"};!function(e,o){for(var n=0,t=e.length;n<t&&!1!==o.call(e,e[n],n);n++);}(o,(function(o){var n=i._detect(o[0],o[1],e);if(n)return r=n,!1})),n.call(t,r.name,r.version)},e.prototype.parse=function(e){e=(e||"").toLowerCase();var o={};return this._parseItem(e,this._rules.os,(function(e,n){var t=parseFloat(n);o.os={name:e,version:t,fullVersion:n},o.os[e]=t}),o),this._parseItem(e,this._rules.browser,(function(e,n){var t=n,i=parseFloat(n);o.browser={name:e,version:i,fullVersion:n,mode:parseFloat(t),fullMode:t},o.browser[e]=i}),o),o},e}();o.Detector=i;var r=new i({os:[["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["wp",function(e){return-1!==e.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==e.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==e.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/]],browser:[["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bqq/i],["qzone",/qzone\/.*_qz_([\d.]+)/i],["qqbrowser",/\bm?qqbrowser\/([0-9.]+)/],["tt",/\btencenttraveler ([0-9.]+)/],["weibo",/weibo__([0-9.]+)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["360",function(e){return-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["baidu",function(e){var o,n=0;return!!/ baiduboxapp\//i.test(e)&&((o=/([\d+.]+)_(?:diordna|enohpi)_/.exec(e))?n=(o=o[1].split(".")).reverse().join("."):(o=/baiduboxapp\/([\d+.]+)/.exec(e))&&(n=o[1]),{version:n})}],["baidubrowser",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["bdminivideo",/bdminivideo\/([0-9.]+)/],["sogou",function(e){return e.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:e.indexOf("sogoumse")>=0||/ se ([0-9.x]+)/}],["ali-ap",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["tao",/\btaobrowser\/([0-9.]+)/],["mi",/\bmiuibrowser\/([0-9.]+)/],["oppo",/\boppobrowser\/([0-9.]+)/],["vivo",/\bvivobrowser\/([0-9.]+)/],["meizu",/\bmzbrowser\/([0-9.]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/],["samsung",/\bsamsungbrowser\/([0-9.]+)/],["maxthon",/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/],["opera",function(e){var o=/\bopera.+version\/([0-9.ab]+)/;return o.test(e)?o:/\bopr\/([0-9.]+)/}],["edge",/edge\/([0-9.]+)/],["firefox",/\bfirefox\/([0-9.ab]+)/],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(-1!==e.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/]]}),a=navigator.userAgent+" "+navigator.appVersion+" "+navigator.vendor;o.ua=a;var s=r.parse(a);o.detector=s},function(e,o,n){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0});var i=n(3);o.copy=i.copy;var r=n(1);o.ua=r.ua,o.detector=r.detector;var a=n(0);o.isAndroid=a.isAndroid,o.isIos=a.isIos,o.inWeibo=a.inWeibo,o.inWeixin=a.inWeixin,o.inQQ=a.inQQ,o.inBaidu=a.inBaidu,o.enableApplink=a.enableApplink,o.enableULink=a.enableULink,o.supportLink=a.supportLink,o.locationCall=a.locationCall,o.iframeCall=a.iframeCall;var s=function(){function e(o){this.callbackId=0;var n=a.deepMerge({},e.defaultConfig);this.configs=a.deepMerge(n,o),this.openMethod=this._getOpenMethod()}return e.prototype._getOpenMethod=function(){var o=e.openChannel,n=o.guide,t=o.link,i=o.scheme,r=o.unknown,s=this.configs,c=s.useGuideMethod,l=s.useUniversalLink,d=s.useAppLink,p=s.autodemotion;return c?n:l||d?p&&(a.isIos&&!a.enableULink||a.isAndroid&&!a.enableApplink)?i:t:a.isIos||a.isAndroid?i:r},e.prototype.open=function(o,n){try{this.options=o,this.callback=n,this.timeoutDownload=o.timeout>=0||this.configs.timeout>=0&&null==o.timeout;var t=e.openChannel,s=t.scheme,c=t.link,l=t.guide,d=t.store,p=t.unknown,u=null,b=!0;if(o.useGuideMethod||null==this.options.useGuideMethod&&this.configs.useGuideMethod)u=l,b=!1;else if(o.launchType){switch(o.launchType[r.detector.os.name]){case"link":u=c,o.autodemotion&&(a.isIos&&!a.enableULink||a.isAndroid&&!a.enableApplink)&&(u=s);break;case"scheme":u=s;break;case"store":u=d,b=!1;break;default:u=p,b=!1}}if(u=u||this.openMethod,"function"==typeof o.callback){o.param=o.param||{};var f="_wla_func_"+ ++this.callbackId;window[f]=function(){o.callback.apply(window,[].slice.call(arguments,0))},o.param.callback=f}else o.callback&&(o.param.callback=n);o.clipboardTxt&&i.copy(o.clipboardTxt),b?(this.openUrl=u.preOpen&&u.preOpen.call(this,o||{}),u.open.call(this,this.openUrl)):u.open.call(this)}catch(e){console.log("launch error:",e),a.locationCall(this.options.landPage||this.configs.landPage)}},e.prototype.download=function(e){var o=a.deepMerge(this.configs.pkgs,e);a.inWeixin?a.locationCall(o.yyb):a.isAndroid?a.locationCall(o.android):a.isIos?a.locationCall(o.ios):a.locationCall(e.landPage||this.configs.landPage)},e.prototype._checkVersion=function(e){for(var o=e.version.trim().split("."),n=this.configs.appVersion.trim().split("."),t=Math.max(o.length,n.length),i=!1,r=0;r<t;r++){var a=parseInt(o[r]||0),s=parseInt(n[r]||0);if(a>s){i=!1;break}if(a<s){i=!0;break}}if(!i){var c=this.options.updateTipMethod||this.configs.updateTipMethod;c&&c()}return i},e.prototype._paramMapProcess=function(e,o){if(!o)return e;var n={};for(var t in e)o[t]?n[o[t]]=e[t]:n[t]=e[t];return n},e.prototype._stringtifyParams=function(e){if(!e)return"";var o="";for(var n in e)e.hasOwnProperty(n)&&("object"==t(e[n])?o+=n+"="+encodeURIComponent(JSON.stringify(e[n]))+"&":o+=n+"="+encodeURIComponent(e[n])+"&");return o?o.substr(0,o.length-1):o},e.prototype._getUrlFromConf=function(e,o){var n=e.param&&this._stringtifyParams(e.param),t="";switch(o){case"link":var i=e.url,s=i.match(/\{.*?\}/g);s&&s.forEach((function(o,n){var t=o.substring(1,o.length-1);i=i.replace(o,e.param[t]),delete e.param[t]})),t=i+(n?(i.indexOf("?")>0?"&":"?")+n:"");break;case"scheme":if(this.options.scheme)t=this.options.scheme+(n?(this.options.scheme.indexOf("?")>0?"&":this.configs.searchPrefix(r.detector))+n:"");else t=(e.protocol||(a.isIos?this.configs.deeplink.scheme.ios.protocol:this.configs.deeplink.scheme.android.protocol))+"://"+e.path+(n?this.configs.searchPrefix(r.detector)+n:"");break;case"store":t=e.scheme.replace("{id}",e.pkgName||this.configs.pkgName)}return t},e.prototype._callend=function(o){clearTimeout(this.timer);var n=this.callback&&this.callback(o,r.detector,this.openUrl);if(o!=e.openStatus.SUCCESS)switch(n){case e.callbackResult.DO_NOTING:break;case e.callbackResult.OPEN_LAND_PAGE:a.locationCall(this.options.landPage||this.configs.landPage);break;case e.callbackResult.OPEN_APP_STORE:e.openChannel.store.open.call(this,!0);break;default:this.download(this.options.pkgs)}},e.prototype._setTimeEvent=function(){var o=this,n=!1,t="hidden",i="visibilitychange";void 0!==document.hidden?(t="hidden",i="visibilitychange"):void 0!==document.msHidden?(t="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",i="webkitvisibilitychange");var r=function r(a){n=!0,document[t]||a.hidden||"hidden"==document.visibilityState?o._callend(e.openStatus.SUCCESS):o._callend(e.openStatus.UNKNOWN),document.removeEventListener(i,r),document.removeEventListener("baiduboxappvisibilitychange",r)};document.addEventListener(i,r,!1),document.addEventListener("baiduboxappvisibilitychange",r,!1),this.timer=setTimeout((function(){n||(document.removeEventListener(i,r),document.removeEventListener("baiduboxappvisibilitychange",r),document.hidden||n?o._callend(e.openStatus.UNKNOWN):o._callend(e.openStatus.FAILED),n=!0)}),this.options.timeout||this.configs.timeout)},e.defaultConfig={inApp:!1,appVersion:"",pkgName:"",deeplink:{scheme:{android:{protocol:"protocol",index:{path:"path",param:{},paramMap:{},version:""}},ios:{protocol:"protocol",index:{path:"path",param:{},paramMap:{},version:""}}},link:{index:{url:"",param:{},paramMap:{},version:0}}},pkgs:{yyb:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.haokan&ckey=",ios:"https://itunes.apple.com/cn/app/id1092031003?mt=8",android:"",store:{samsung:{reg:/\(.*Android.*(SAMSUNG|SM-|GT-).*\)/,scheme:"samsungapps://ProductDetail/{id}"},android:{reg:/\(.*Android.*\)/,scheme:"market://details?id={id}"}}},useUniversalLink:a.supportLink(),useAppLink:a.supportLink(),autodemotion:!1,useYingyongbao:!1,useGuideMethod:a.isAndroid&&a.inWeibo,guideMethod:function(){var e=document.createElement("div");e.className="wx-guide-div",e.innerText='点击右上角->选择"在浏览器中打开"',e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="1111",e.style.width="100vw",e.style.height="100vh",e.style.textAlign="center",e.style.lineHeight="200px",e.style.color="#fff",e.style.fontSize="20px",e.style.backgroundColor="#000",e.style.opacity="0.7",document.body.appendChild(e),e.onclick=function(){e.remove()}},updateTipMethod:function(){alert("升级App后才能使用此功能！")},searchPrefix:function(e){return"?"},timeout:2e3,landPage:"https://github.com/jawidx/web-launch-app"},e.openChannel={scheme:{preOpen:function(e){var o={};a.isAndroid?o=this.configs.deeplink.scheme.android:a.isIos&&(o=this.configs.deeplink.scheme.ios);var n=o[e.page]||o.index;return n=a.deepMerge(n,e),this.configs.inApp&&n.version&&!this._checkVersion(n)?"":(n.paramMap&&(n.param=this._paramMapProcess(n.param,n.paramMap)),this._getUrlFromConf(n,"scheme"))},open:function(e){e&&(this.timeoutDownload&&this._setTimeEvent(),a.isIOSWithLocationCallSupport||a.isAndroidWithLocationCallSupport?a.locationCall(e):a.iframeCall(e))}},link:{preOpen:function(e){var o=this.configs.deeplink.link,n=o[e.page]||o.index;return(n=a.deepMerge(n,e)).paramMap&&(n.param=this._paramMapProcess(n.param,n.paramMap)),this._getUrlFromConf(n,"link")},open:function(e){a.locationCall(e)}},guide:{open:function(){var e=this.options.guideMethod||this.configs.guideMethod;e&&e(r.detector)}},store:{open:function(e){a.inWeixin||e||!this.timeoutDownload||this._setTimeEvent();var o=a.deepMerge(this.configs.pkgs,this.options.pkgs);if(a.inWeixin&&(this.options.useYingyongbao||null==this.options.useYingyongbao&&this.configs.useYingyongbao))a.locationCall(o.yyb);else if(a.isIos)a.locationCall(o.ios);else if(a.isAndroid){var n=this.configs.pkgs.store,t=void 0,i=void 0;for(var s in n)if((t=n[s])&&t.reg.test(r.ua)){i=this._getUrlFromConf(t,"store"),a.iframeCall(i);break}e&&!i&&a.locationCall(this.options.landPage||this.configs.landPage)}}},unknown:{open:function(){a.locationCall(this.options.landPage||this.configs.landPage)}}},e.openStatus={FAILED:0,SUCCESS:1,UNKNOWN:2},e.callbackResult={DO_NOTING:1,OPEN_LAND_PAGE:2,OPEN_APP_STORE:3},e}();o.LaunchApp=s},function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.copy=function(e,o){var n,t,i=!1;n=(o=o||{}).debug||!1;try{var r="rtl"==document.documentElement.getAttribute("dir");(t=document.createElement("textarea")).style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[r?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;if(t.style.top=a+"px",t.setAttribute("readonly",""),t.value=e,document.body.appendChild(t),function(e){var o;if("SELECT"===e.nodeName)e.focus(),o=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),o=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var t=window.getSelection(),i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i),o=t.toString()}}(t),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");i=!0}catch(o){n&&console.error("unable to copy using execCommand: ",o),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),i=!0}catch(e){n&&console.error("unable to copy using clipboardData: ",e)}}finally{t&&document.body.removeChild(t)}return i}},,,,,function(e,o,n){e.exports=n(2)}]);